fields:
    student@update:
        label: 'logingrupa.studybook::lang.field.transaction.student_full_name'
        span: left
        required: true
        type: relation
        select: concat(name, ' ', surname)
        readOnly: true
    student@create:
        label: 'logingrupa.studybook::lang.field.transaction.student_full_name'
        span: left
        required: true
        type: relation
        select: concat(name, ' ', surname)
    slug@update:
        label: 'logingrupa.studybook::lang.field.transaction.slug'
        span: right
        required: true
        placeholder: 'lovata.toolbox::lang.field.id'
        type: text
        readOnly: true
    reservation@update:
        label: 'logingrupa.studybook::lang.field.transaction.reservation_name'
        type: relation
        span: left
        select: concat(start_at, ' - ' ,name, ' - ', full_name, ' - â‚¬', price)
        readOnly: true
    reservation_id@create:
        label: 'logingrupa.studybook::lang.field.transaction.reservation_name'
        type: dropdown
        span: left
        options: \Logingrupa\Studybook\Classes\Helper\Transaction\FormHelper::staticGetStudentReservationListOptions
        dependsOn: student
        changeHandler: onChangeContent
    credit@create:
        label: 'logingrupa.studybook::lang.field.transaction.credit'
        type: number
        min: 0
        span: right
        value: myColorList
        dependsOn: reservation_id
    credit@update:
        label: 'logingrupa.studybook::lang.field.transaction.credit'
        type: number
        span: right
        readOnly: true    
    transaction_at@update:
        label: 'logingrupa.studybook::lang.field.transaction.transaction_at'
        type: datepicker
        mode: date
        span: auto
    transaction_at@create:
        label: 'logingrupa.studybook::lang.field.transaction.transaction_at'
        type: datepicker
        mode: date
        span: auto
    note:
        label: 'logingrupa.studybook::lang.field.transaction.note'
        size: large
        span: right
        type: textarea
        tab: 'lovata.toolbox::lang.tab.description'
    type:
        label: 'logingrupa.studybook::lang.field.transaction.type'
        type: dropdown
        options:
            bank: ['Bank transfer', 'icon-home']
            cache: ['Cache', 'icon-money']
            gift: ['Gift card', 'icon-credit-card']
            discount: ['Discount', 'icon-eur']
        span: left
    status:
        type: partial
        path: $/logingrupa/studybook/controllers/transactions/_children_status_field.htm
        span: left
        #TODO:report issue when field is updated it does filterFields again on current value not value in database
        # dependsOn: children
tabs:
    fields:
        children:
            type: partial
            tab: 'logingrupa.studybook::lang.tab.payments'


